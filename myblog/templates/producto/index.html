{% extends 'base.html' %} 
{% block title %} Productos {% endblock %} 
{% block title1 %} Productos {% endblock %} 
{% block header %}
  <div style="flex: auto; column-count: 1">
    {% if g.user %}
    <a style="width: auto" href="{{ url_for('productos.register') }}">
      <input
        style="
          background-color: #224a64;
          text-align: right;
          color: #fff;
          border-style: hidden;

          border-radius: 6px;
          cursor: pointer;
        "
        type="button"
        value="Crear Producto"
      />
    </a>
    {% endif %}

    <form method="post">
      <input
        style="
          background-color: #224a64;
          flex: 0 0 70%;
          border-style: hidden;
          color: #fff;
        "
        type="text"
        name="txtcategoria"
        id="txtcategoria"
        placeholder="Search..."
        autofocus
      />
      <input type="submit" value="send" hidden />
    </form>
  </div>
{% endblock %} 

{% block content %}
<button
  onclick="topFunction()"
  id="myBtn"
  title="Go to top"
  style="min-width: 50px"
>
  ^
</button>

{% for producto in productos %}

<article style="background-color: #173346; padding: 0 9px ; margin-bottom: 6px; border-radius: 3px;
">
  <header style="flex: auto">
    <a
      href="{{ url_for('productos.update', id=producto.codprod) }}"
      style="
        font-weight: bold;
        text-decoration: none;
        background-color: #224a64;
        color: #fff;
        border-radius: 3px;
        text-align: center;
        min-width: 80px;
        
      "
      type="button"
    >
      {{ producto.codprod }}
    </a>
    
    <a
      href="{{ url_for('productos.update', id=producto.codprod) }}"
      
      style="        
        text-decoration: none;
        background-color: #224a64;
        color: #fff;
        border-radius: 3px;
        text-align: left ;        
        max-width: 500px;
        width: 100%;
        margin-left: 10px;
        padding: 10px;
        text-align:center;
      "
      type="button"
    >
      {{ producto.nomprod }}
    </a>

    <div style="padding-right: 3px; min-width: 80px; max-width: 80px">
      <p style="text-align: right">{{ "${:,.0f}".format(producto.venprod)}}</p>
      <p style="text-align: right; font-size: 10px">{{ producto.exiprod }}</p>
    </div>
  </header>
</article>

{% endfor %}

<script>
  let mybutton = document.getElementById("myBtn");

  window.onscroll = function () {
    scrollFunction();
  };

  function scrollFunction() {
    if (
      document.body.scrollTop > 20 ||
      document.documentElement.scrollTop > 20
    ) {
      mybutton.style.display = "block";
    } else {
      mybutton.style.display = "none";
    }
  }

  function topFunction() {
    document.body.scrollTop = 0;
    document.documentElement.scrollTop = 0;
  }
</script>

{% endblock %}
