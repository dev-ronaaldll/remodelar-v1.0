{% extends 'base.html' %} 
{% block title %} Productos {% endblock %} 
{% block title1 %} Productos {% endblock %} 

{% block header %}
<a href="{{ url_for('productos.register') }}">
  <input style="
      background-color: #224a64;
      text-align: right;
      color: #fff;
      border-style: hidden;
      font-size: 10px;
      border-radius: 6px;
      cursor: pointer;              
      padding: 5px; 
      min-width: 100%;
      text-align: center;
      
    " type="button" value="Crear Producto" />
</a>
<form method="post">
  <input style="
              background-color: #224a64;                              
              border-style: hidden;
              color: #fff;
              max-height: 25px;
              border-radius: 6px;
              " type="text" name="txtcategoria" id="txtcategoria"
    placeholder="Search..." autofocus />
  <input type="submit" value="send" hidden />
</form>
{% endblock %}

{% block content %}
<button
  onclick="topFunction()"
  id="myBtn"
  title="Go to top"
  style="min-width: 50px"
>
  ^
</button>

{% for producto in productos %}

<article style="background-color: #173346; padding: 0 9px ; margin-bottom: 6px; border-radius: 3px;
">
  <header style="flex: auto">
    <a
      href="{{ url_for('productos.update', id=producto.codprod) }}"
      style="
        font-weight: bold;
        text-decoration: none;        
        color: #fff;
        text-align: center;
        min-width: 30px;        
      "
      type="button"
    >
      {{ producto.codprod }}
    </a>
    
    <a
      href="{{ url_for('productos.update', id=producto.codprod) }}"
      
      style="        
        text-decoration: none;
        background-color: #224a64;
        color: #fff;
        border-radius: 3px;
        max-width: 500px;
        width: 100%;
        margin-left: 5px;
        padding: 5px;
        text-align:center;
        font-size: 14px;
      "
      type="button"
    >
      {{ producto.nomprod }}
    </a>

    <div style="padding-right: 3px; min-width: 80px; max-width: 80px">
      <p style="text-align: right">{{ "${:,.0f}".format(producto.venprod)}}</p>
      <p style="text-align: right; font-size: 10px">{{ producto.exiprod }}</p>
    </div>
  </header>
</article>

{% endfor %}

<script>
  let mybutton = document.getElementById("myBtn");

  window.onscroll = function () {
    scrollFunction();
  };

  function scrollFunction() {
    if (
      document.body.scrollTop > 20 ||
      document.documentElement.scrollTop > 20
    ) {
      mybutton.style.display = "block";
    } else {
      mybutton.style.display = "none";
    }
  }

  function topFunction() {
    document.body.scrollTop = 0;
    document.documentElement.scrollTop = 0;
  }
</script>

{% endblock %}
